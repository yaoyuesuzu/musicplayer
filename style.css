:root {
	--apple-cubic-bezier: cubic-bezier(0.4, 0, 0.2, 1);
	--forceful-cubic-bezier: cubic-bezier(0.25, 0.8, 0.25, 1);
	--transition-duration-normal: 0.5s;
	--transition-duration-fast: 0.3s;
	--transition-duration-scroll: 0.8s
}

@font-face {
	font-family:'PingFang Custom';src:url(data/PingFangSC-Regular.otf) format('opentype');font-weight:400
}

@font-face {
	font-family:'PingFang Custom';src:url(data/PingFangSC-Medium.otf) format('opentype');font-weight:500
}

@font-face {
	font-family:'PingFang Custom';src:url(data/PingFangSC-Semibold.otf) format('opentype');font-weight:600
}

body {
	font-family: 'PingFang Custom',sans-serif;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	background-color: #f5f5f7
}

#main-content {
	padding-bottom: 80px!important
}

#mini-player.visible {
	transform: translateY(0)
}

#listen-now-view::before {
	content: '';
	position: absolute;
	top: -50%;
	left: -50%;
	width: 200%;
	height: 200%;
	background-image: radial-gradient(circle at 30% 30%,#ff8c8c,transparent 40%),radial-gradient(circle at 70% 70%,#8c9eff,transparent 40%),radial-gradient(circle at 80% 20%,#8cffc3,transparent 35%);
	filter: blur(120px);
	opacity: .2;
	animation: spatial-background 30s linear infinite alternate;
	z-index: -1
}

.song-item-v4 {
	border-bottom: 1px solid #e5e5e6;
	transition: background-color var(--transition-duration-fast) var(--apple-cubic-bezier)
}

.song-item-v4:hover {
	background-color: #e8e8ea
}

.song-item-v4 p {
	color: #515154
}

.song-item-v4 .font-medium {
	color: #1d1d1f
}

.album-card {
	transition: transform var(--transition-duration-fast) var(--apple-cubic-bezier),box-shadow var(--transition-duration-fast) var(--apple-cubic-bezier)
}

.album-card:hover {
	transform: scale(1.03);
	box-shadow: 0 10px 30px rgba(0,0,0,.1)
}

.album-card p {
	color: #86868b
}

.album-card .font-semibold {
	color: #1d1d1f
}

.search-input {
	width: 100%;
	padding: 8px 12px 8px 36px;
	border-radius: 8px;
	background-color: #e8e8ea;
	border: none;
	outline: 0;
	font-weight: 500;
	color: #1d1d1f;
	transition: all .3s var(--apple-cubic-bezier)
}

.search-input:focus {
	background-color: #fff;
	box-shadow: 0 0 0 2px rgba(0,122,255,.5)
}

@keyframes spatial-background {
	from {
		transform: rotate(0) scale(1)
	}

	to {
		transform: rotate(360deg) scale(1.2)
	}
}

.back-btn {
	display: inline-flex;
	align-items: center;
	gap: 8px;
	font-weight: 600;
	color: #007aff;
	margin-bottom: 24px
}

.song-detail-header {
	display: flex;
	align-items: flex-end;
	gap: 32px;
	margin-bottom: 40px
}

.song-detail-artwork {
	width: 220px;
	height: 220px;
	border-radius: 12px;
	box-shadow: 0 8px 30px rgba(0,0,0,.15);
	object-fit: cover;
	flex-shrink: 0
}

.song-detail-meta .title {
	font-size: 3.5rem;
	font-weight: 700;
	line-height: 1.1;
	color: #1d1d1f
}

.song-detail-meta .artist {
	font-size: 1.75rem;
	color: #86868b;
	font-weight: 500
}

.song-detail-actions {
	display: flex;
	align-items: center;
	flex-wrap: wrap;
	gap: 16px;
	margin-top: 16px
}

.action-btn {
	display: flex;
	align-items: center;
	gap: 8px;
	padding: 10px 20px;
	border-radius: 9999px;
	font-weight: 600;
	font-size: 1rem;
	cursor: pointer;
	transition: all .2s ease-in-out;
	border: none
}

.action-btn.primary {
	background-color: #007aff;
	color: #fff
}

.action-btn.primary:hover {
	background-color: #0070e2
}

.action-btn.secondary {
	background-color: #e8e8ea;
	color: #1d1d1f
}

.action-btn.secondary:hover {
	background-color: #ddd
}

#copy-link-feedback {
	color: #34c759;
	font-weight: 500;
	margin-left: 16px;
	opacity: 0;
	transition: opacity .3s ease-in-out
}

.song-detail-lyrics h3 {
	font-size: 1.5rem;
	font-weight: 700;
	margin-bottom: 16px
}

.song-detail-lyrics p {
	font-size: 1.25rem;
	line-height: 1.6;
	color: #1d1d1f;
	font-weight: 500
}

.tag-item {
	background-color: #e8e8ea;
	color: #515154;
	font-size: 10px;
	font-weight: 600;
	padding: 3px 8px;
	border-radius: 9999px
}

.tag-dolby {
	background-color: #e0f2fe;
	color: #0ea5e9
}

.tag-cd {
	background-color: #f1e5f1;
	color: #8b5cf6
}

.tag-dolby-atmos {
	background-color: #e0f2fe;
	color: #0ea5e9
}

.tag-binaural {
	background-color: #e5f2e8;
	color: #4caf50
}

.tag-hires {
	background-color: #fce7f3;
	color: #db2777
}

.action-btn.bilibili-btn {
	background-color: #fce7f3;
	color: #db2777;
	text-decoration: none
}

.action-btn.bilibili-btn:hover {
	background-color: #fbcfe8
}

.glass-bg-deep {
	background: rgba(0,0,0,.2);
	backdrop-filter: blur(20px);
	-webkit-backdrop-filter: blur(20px);
	border: 1px solid rgba(255,255,255,.1)
}

#player-fullscreen {
	transition: transform var(--transition-duration-normal) var(--apple-cubic-bezier)
}

#player-bg {
	position: absolute;
	inset: 0;
	background-size: cover;
	background-position: center;
	filter: blur(50px) brightness(.5);
	transform: scale(1.2);
	z-index: 0;
	transition: background-image .8s var(--apple-cubic-bezier)
}

.control-glass-btn {
	color: #fff;
	width: 40px;
	height: 40px;
	border-radius: 9999px;
	display: flex;
	align-items: center;
	justify-content: center;
	font-size: 1.1rem;
	transition: background-color var(--transition-duration-fast) var(--apple-cubic-bezier);
	background: rgba(255,255,255,.1);
	backdrop-filter: blur(10px);
	-webkit-backdrop-filter: blur(10px)
}

.control-glass-btn:hover {
	background: rgba(255,255,255,.2)
}

.play-btn {
	width: 64px;
	height: 64px;
	background: rgba(255,255,255,.9);
	color: #000;
	border-radius: 9999px;
	font-size: 1.5rem;
	display: flex;
	align-items: center;
	justify-content: center;
	box-shadow: 0 4px 15px rgba(0,0,0,.2);
	transform: scale(1);
	transition: transform var(--transition-duration-fast) var(--apple-cubic-bezier),background-color var(--transition-duration-fast) var(--apple-cubic-bezier)
}

.play-btn:hover {
	transform: scale(1.08);
	background: #fff
}

.control-btn {
	color: #eee;
	transition: color var(--transition-duration-fast) var(--apple-cubic-bezier)
}

.control-btn:hover {
	color: #fff
}

.progress-bar-bg {
	background: rgba(255,255,255,.2);
	height: 6px;
	border-radius: 3px;
	cursor: pointer
}

.progress-bar-fg {
	background: #fff;
	height: 100%;
	border-radius: 3px
}

#source-switcher .source-btn {
	font-size: 10px;
	font-weight: 600;
	border: none;
	border-radius: 9999px;
	padding: 6px 10px;
	cursor: pointer;
	transition: all var(--transition-duration-fast) var(--apple-cubic-bezier);
	color: #eee;
	background: rgba(255,255,255,.15)
}

#source-switcher .source-btn.active {
	background: #fff;
	color: #000
}

#source-switcher .source-btn.disabled {
	opacity: .4;
	cursor: not-allowed;
	position: relative
}

#source-switcher .source-btn.disabled:hover::after {
	content: attr(data-tooltip);
	position: absolute;
	bottom: 125%;
	left: 50%;
	transform: translateX(-50%);
	background-color: #2c2c2e;
	color: #fff;
	padding: 5px 10px;
	border-radius: 6px;
	font-size: 12px;
	font-weight: 500;
	white-space: nowrap;
	z-index: 10
}

#player-artist,#player-title {
	color: #fff
}

#current-time,#duration {
	color: #8e8e93
}

.player-layout-grid {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 100%;
	gap: 10%
}

#left-pane {
	width: 50%;
	max-width: 480px
}

#right-pane {
	width: 40%
}

#lyrics-view {
	text-align: left
}

#lyrics-container {
	height: 100%;
	position: relative;
	overflow: hidden;
	-webkit-mask-image: linear-gradient(transparent 0,#000 20%,#000 80%,transparent 100%);
	mask-image: linear-gradient(transparent 0,#000 20%,#000 80%,transparent 100%)
}

#lyrics-track {
	position: absolute;
	width: 100%;
	transition: transform var(--transition-duration-scroll) var(--forceful-cubic-bezier)
}

.lyric-line {
	padding: 10px 0 10px 20px;
	line-height: 1.5;
	overflow-wrap: break-word;
	word-break: break-word;
	font-size: 1.875rem;
	transition: opacity .5s var(--apple-cubic-bezier),font-weight .5s var(--apple-cubic-bezier);
	font-weight: 500;
	opacity: .5;
	color: #eee
}

.lyric-line.active {
	font-weight: 600;
	opacity: 1;
	color: #fff
}

.lyric-line.played {
	opacity: 0!important;
	transition: opacity .8s var(--apple-cubic-bezier)
}

#playlist-view {
	transition: transform var(--transition-duration-normal) var(--apple-cubic-bezier)
}

#playlist-view.visible {
	transform: translateX(0)
}

.playlist-item {
	display: flex;
	align-items: center;
	gap: 16px;
	padding: 8px;
	border-radius: 8px;
	cursor: pointer;
	transition: background-color .2s ease-in-out
}

.playlist-item:hover {
	background-color: rgba(255,255,255,.1)
}

.playlist-item-artwork {
	width: 48px;
	height: 48px;
	border-radius: 4px;
	object-fit: cover
}

.playlist-item-info .title {
	font-weight: 500;
	color: #fff
}

.playlist-item-info .artist {
	font-size: .875rem;
	color: #8e8e93
}

.playlist-item.playing .artist,.playlist-item.playing .title {
	color: #58a6ff
}

@media (max-width:768px) {
	#main-content {
		padding-bottom: 70px!important
	}

	#view-container {
		padding: 1rem
	}

	#listen-now-view h1,#search-view h2,.song-detail-meta .title {
		font-size: 2.5rem
	}

	.song-detail-header {
		flex-direction: column;
		align-items: center;
		text-align: center
	}

	.song-detail-artwork {
		width: 180px;
		height: 180px
	}

	.song-detail-actions {
		justify-content: center
	}

	.song-detail-lyrics p {
		font-size: 1rem
	}

	#player-fullscreen {
		padding: 1rem
	}

	.player-layout-grid {
		flex-direction: column;
		gap: 1.5rem;
		justify-content: center;
		height: 100%
	}

	#right-pane {
		display: none
	}

	#left-pane {
		width: 100%;
		max-width: 100%
	}

	#player-artwork {
		width: 75vw;
		height: 75vw;
		max-width: 300px;
		max-height: 300px
	}

	#player-title {
		font-size: 1.5rem
	}

	#player-artist {
		font-size: 1rem
	}

	#playlist-view {
		max-width: 100%
	}
}

#download-modal.visible {
	display: flex
}

#download-links a {
	display: block;
	padding: 12px;
	background-color: #f0f0f0;
	border-radius: 8px;
	text-align: center;
	font-weight: 500;
	color: #007aff;
	text-decoration: none;
	transition: background-color .2s
}

#download-links a:hover {
	background-color: #e5e5e5
}

#download-links a.disabled {
	background-color: #e5e7eb;
	color: #9ca3af;
	cursor: not-allowed;
	pointer-events: none
}

#download-links a.disabled:hover {
	background-color: #e5e7eb
}

#global-verification-modal {
	transition: opacity .5s ease-in-out
}

.verifying-dot {
	width: 10px;
	height: 10px;
	background-color: #007bff;
	border-radius: 50%;
	margin: 0 4px;
	animation: bounce 1.4s infinite ease-in-out both
}

.verifying-dot:nth-child(1) {
	animation-delay: -.32s
}

.verifying-dot:nth-child(2) {
	animation-delay: -.16s
}

.verifying-dot:nth-child(3) {
	animation-delay: 0s
}

@keyframes bounce {
	0%,100%,80% {
		transform: scale(0)
	}

	40% {
		transform: scale(1)
	}
}

.mode-switch-btn {
	position: relative;
	padding: 6px 16px;
	border-radius: 9999px;
	font-weight: 500;
	cursor: pointer;
	transition: background-color .3s,color .3s;
	overflow: hidden
}

.mode-switch-btn.active {
	background-color: #007aff;
	color: #fff
}

.mode-switch-btn:not(.active) {
	background-color: #e8e8ea;
	color: #1d1f1f
}

.ripple {
	position: absolute;
	border-radius: 50%;
	background-color: rgba(0,122,255,.4);
	transform: scale(0);
	animation: ripple-effect .6s linear;
	pointer-events: none
}

@keyframes ripple-effect {
	to {
		transform: scale(4);
		opacity: 0
	}
}

.song-checkbox {
	display: none
}

.share-mode .song-checkbox {
	display: block
}

.song-checkbox input {
	display: none
}

.song-checkbox .checkbox-custom {
	width: 20px;
	height: 20px;
	border: 2px solid #ccc;
	border-radius: 50%;
	display: flex;
	align-items: center;
	justify-content: center;
	transition: all .2s ease-in-out
}

.song-checkbox .checkbox-custom .fa-check {
	font-size: 10px;
	color: #fff;
	transform: scale(0);
	transition: transform .2s ease-in-out
}

.song-item-v4.selected .checkbox-custom {
	background-color: #007aff;
	border-color: #007aff
}

.song-item-v4.selected .checkbox-custom .fa-check {
	transform: scale(1)
}

#share-mode-footer {
	transition: transform .4s var(--apple-cubic-bezier)
}

#toast-notification {
	transition: opacity .4s var(--apple-cubic-bezier),transform .4s var(--apple-cubic-bezier)
}

.playlist-card {
	transition: transform .2s var(--apple-cubic-bezier),box-shadow .2s var(--apple-cubic-bezier);
	cursor: pointer
}

.playlist-card:hover {
	transform: translateY(-4px);
	box-shadow: 0 8px 24px rgba(0,0,0,.1)
}

#fullscreen-ripple-container {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	pointer-events: none;
	z-index: 99;
	overflow: hidden
}

#fullscreen-ripple-container .ripple {
	position: absolute;
	border-radius: 50%;
	background-color: rgba(0,122,255,.3);
	transform: scale(0);
	animation: fullscreen-ripple-effect .8s ease-out;
	pointer-events: none
}

@keyframes fullscreen-ripple-effect {
	to {
		transform: scale(1);
		opacity: 0
	}
}

.playlist-detail-header {
	display: flex;
	align-items: flex-end;
	gap: 32px;
	margin-bottom: 40px
}

.playlist-detail-artwork {
	width: 220px;
	height: 220px;
	border-radius: 12px;
	box-shadow: 0 8px 30px rgba(0,0,0,.15);
	flex-shrink: 0;
	overflow: hidden;
	display: grid;
	grid-template-columns: 1fr 1fr;
	grid-template-rows: 1fr 1fr;
	background-color: #f0f2f5
}

.playlist-detail-artwork img {
	width: 100%;
	height: 100%;
	object-fit: cover
}

.playlist-detail-meta .title {
	font-size: 3.5rem;
	font-weight: 700;
	line-height: 1.1;
	color: #1d1d1f
}

.playlist-detail-meta .subtitle {
	font-size: 1.25rem;
	color: #86868b;
	font-weight: 500
}

.playlist-detail-actions {
	display: flex;
	align-items: center;
	flex-wrap: wrap;
	gap: 16px;
	margin-top: 16px
}

@media (max-width:768px) {
	.playlist-detail-header {
		flex-direction: column;
		align-items: center;
		text-align: center
	}

	.playlist-detail-artwork {
		width: 180px;
		height: 180px
	}

	.playlist-detail-meta .title {
		font-size: 2.5rem
	}
}

#edit-playlist-cover-preview {
	width: 128px;
	height: 128px;
	border-radius: 8px;
	object-fit: cover;
	border: 1px solid #ddd;
	background-color: #f0f2f5;
	margin: 0 auto 1rem;
	display: block
}

.file-input-label {
	display: inline-block;
	padding: 8px 12px;
	background-color: #f0f0f0;
	border-radius: 8px;
	text-align: center;
	font-weight: 500;
	color: #333;
	cursor: pointer;
	transition: background-color .2s
}

.file-input-label:hover {
	background-color: #e5e5e5
}

#edit-playlist-cover {
	display: none
}

.action-btn.btn-danger {
	background-color: #e8e8ea;
	color: #dc3545
}

.action-btn.btn-danger:hover {
	background-color: #dc3545;
	color: #fff
}
